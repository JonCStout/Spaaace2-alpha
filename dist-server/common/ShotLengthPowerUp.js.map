{"version":3,"sources":["../../src/common/ShotLengthPowerUp.js"],"names":["ShotLengthPowerUp","gameEngine","options","props","Renderer","renderer","getInstance","sprite","PIXI","Sprite","loader","resources","shotLengthPowerUp","texture","sprites","id","width","height","anchor","set","position","x","y","layer2","addChild","destroy","other","inputId","max","velocity","percent","Object","assign","type","BaseTypes","TYPES","INT32","DynamicObject"],"mappings":";;;;;;;AAAA;;;;;;;;;;;;;;;;;;;;;;;;IAEqBA,iB;;;;;AAEjB,6BAAYC,UAAZ,EAAwBC,OAAxB,EAAiCC,KAAjC,EAAuC;AAAA;;AAAA,0FAC7BF,UAD6B,EACjBC,OADiB,EACRC,KADQ;AAEtC,G,CAED;AACA;AACA;;;;;iCAgBaF,U,EAAY;AACrB,UAAIG,iBAAJ,EAAc;AACV,YAAIC,QAAQ,GAAGD,kBAASE,WAAT,EAAf;;AACA,YAAIC,MAAM,GAAG,IAAIC,IAAI,CAACC,MAAT,CAAgBD,IAAI,CAACE,MAAL,CAAYC,SAAZ,CAAsBC,iBAAtB,CAAwCC,OAAxD,CAAb;AACAR,QAAAA,QAAQ,CAACS,OAAT,CAAiB,KAAKC,EAAtB,IAA4BR,MAA5B;AACAA,QAAAA,MAAM,CAACS,KAAP,GAAe,EAAf;AACAT,QAAAA,MAAM,CAACU,MAAP,GAAgB,EAAhB;AACAV,QAAAA,MAAM,CAACW,MAAP,CAAcC,GAAd,CAAkB,GAAlB,EAAuB,GAAvB;AACAZ,QAAAA,MAAM,CAACa,QAAP,CAAgBD,GAAhB,CAAoB,KAAKC,QAAL,CAAcC,CAAlC,EAAqC,KAAKD,QAAL,CAAcE,CAAnD;AACAjB,QAAAA,QAAQ,CAACkB,MAAT,CAAgBC,QAAhB,CAAyBjB,MAAzB;AACH;AACJ;;;sCAEiBN,U,EAAY;AAC1B,UAAIG,iBAAJ,EAAc;AACV,YAAIC,QAAQ,GAAGD,kBAASE,WAAT,EAAf;;AACA,YAAID,QAAQ,CAACS,OAAT,CAAiB,KAAKC,EAAtB,CAAJ,EAA+B;AAC3BV,UAAAA,QAAQ,CAACS,OAAT,CAAiB,KAAKC,EAAtB,EAA0BU,OAA1B;AACA,iBAAOpB,QAAQ,CAACS,OAAT,CAAiB,KAAKC,EAAtB,CAAP;AACH;AACJ;AACJ;;;2BAEMW,K,EAAO;AACV,oFAAaA,KAAb;;AACA,WAAKC,OAAL,GAAeD,KAAK,CAACC,OAArB;AACH;;;AAlCD;wBACc;AACV,aAAO;AACHP,QAAAA,QAAQ,EAAE;AAAEQ,UAAAA,GAAG,EAAE;AAAP,SADP;AAEHC,QAAAA,QAAQ,EAAE;AAAEC,UAAAA,OAAO,EAAE;AAAX;AAFP,OAAP;AAIH;;;wBAZsB;AACnB,aAAOC,MAAM,CAACC,MAAP,CAAc;AACjBL,QAAAA,OAAO,EAAE;AAAEM,UAAAA,IAAI,EAAEC,mBAAUC,KAAV,CAAgBC;AAAxB;AADQ,OAAd,8DAAP;AAGH;;;;EAd0CC,sB","sourcesContent":["import { BaseTypes, DynamicObject, Renderer } from 'lance-gg';\r\n\r\nexport default class ShotLengthPowerUp extends DynamicObject {\r\n\r\n    constructor(gameEngine, options, props){\r\n        super(gameEngine, options, props);\r\n    }\r\n\r\n    // this is what allows usage of shadow object with input-created objects\r\n    // see https://medium.com/javascript-multiplayer-gamedev/chronicles-of-the-development-of-a-multiplayer-game-part-2-loops-and-leaks-10b453e843e0\r\n    // in the future this will probably be embodied in a component\r\n\r\n    static get netScheme() {\r\n        return Object.assign({\r\n            inputId: { type: BaseTypes.TYPES.INT32 }\r\n        }, super.netScheme);\r\n    }\r\n\r\n    // position correction if less than world width/height\r\n    get bending() {\r\n        return {\r\n            position: { max: 5000.0 },\r\n            velocity: { percent: 0.0 }\r\n        };\r\n    }\r\n\r\n    onAddToWorld(gameEngine) {\r\n        if (Renderer) {\r\n            let renderer = Renderer.getInstance();\r\n            let sprite = new PIXI.Sprite(PIXI.loader.resources.shotLengthPowerUp.texture);\r\n            renderer.sprites[this.id] = sprite;\r\n            sprite.width = 64;\r\n            sprite.height = 64;\r\n            sprite.anchor.set(0.5, 0.5);\r\n            sprite.position.set(this.position.x, this.position.y);\r\n            renderer.layer2.addChild(sprite);\r\n        }\r\n    }\r\n\r\n    onRemoveFromWorld(gameEngine) {\r\n        if (Renderer) {\r\n            let renderer = Renderer.getInstance();\r\n            if (renderer.sprites[this.id]) {\r\n                renderer.sprites[this.id].destroy();\r\n                delete renderer.sprites[this.id];\r\n            }\r\n        }\r\n    }\r\n\r\n    syncTo(other) {\r\n        super.syncTo(other);\r\n        this.inputId = other.inputId;\r\n    }\r\n}\r\n"],"file":"ShotLengthPowerUp.js"}